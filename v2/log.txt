╭─────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Plan to implement                                                                                       │
│                                                                                                         │
│ 待办应用重构计划：React + TypeScript + Vite                                                             │
│                                                                                                         │
│ 上下文                                                                                                  │
│                                                                                                         │
│ 用户要求将现有的纯 HTML/CSS/JavaScript 待办事项应用重构为使用 React + TypeScript + Vite                 │
│ 的项目，同时保留所有现有功能。                                                                          │
│                                                                                                         │
│ 现有功能分析                                                                                            │
│                                                                                                         │
│ 当前应用功能：                                                                                          │
│ 1. 添加待办事项（支持 Enter 键快速添加）                                                                │
│ 2. 删除待办事项                                                                                         │
│ 3. 切换完成状态                                                                                         │
│ 4. 筛选功能（全部/待完成/已完成）                                                                       │
│ 5. 清除已完成项目                                                                                       │
│ 6. localStorage 数据持久化                                                                              │
│ 7. 实时统计（总计/待完成/已完成）                                                                       │
│ 8. 日期显示                                                                                             │
│ 9. 空状态提示                                                                                           │
│ 10. XSS 防护（HTML 转义）                                                                               │
│                                                                                                         │
│ UI 特点：                                                                                               │
│ - 渐变紫色主题（#667eea 到 #764ba2）                                                                    │
│ - 现代化圆角卡片设计                                                                                    │
│ - 响应式悬停效果                                                                                        │
│ - 自定义圆形复选框                                                                                      │
│ - 删除按钮悬停显示                                                                                      │
│                                                                                                         │
│ 项目结构                                                                                                │
│                                                                                                         │
│ 当前 v2 目录仅包含 index.html 文件，父目录存在一个 Vue 项目配置，但本次重构需要在 v2 目录创建独立的     │
│ React + TypeScript + Vite 项目。                                                                        │
│                                                                                                         │
│ 推荐方案                                                                                                │
│                                                                                                         │
│ 技术栈选择                                                                                              │
│                                                                                                         │
│ - 构建工具: Vite                                                                                        │
│ - 框架: React 19                                                                                        │
│ - 语言: TypeScript                                                                                      │
│ - 样式: 保留现有 CSS（直接迁移为组件样式）                                                              │
│ - 状态管理: React useState + useEffect（简单场景无需 Redux）                                            │
│ - 存储: localStorage API                                                                                │
│                                                                                                         │
│ 项目结构                                                                                                │
│                                                                                                         │
│ v2/                                                                                                     │
│ ├── index.html              # Vite 入口 HTML                                                            │
│ ├── package.json            # 项目配置                                                                  │
│ ├── vite.config.ts          # Vite 配置                                                                 │
│ ├── tsconfig.json           # TypeScript 配置                                                           │
│ └── src/                                                                                                │
│     ├── main.tsx            # React 入口                                                                │
│     ├── App.tsx             # 主组件                                                                    │
│     ├── components/                                                                                     │
│     │   ├── Header.tsx      # 头部统计组件                                                              │
│     │   ├── TodoInput.tsx   # 输入框组件                                                                │
│     │   ├── FilterBar.tsx   # 筛选栏组件                                                                │
│     │   ├── TodoList.tsx    # 列表组件                                                                  │
│     │   ├── TodoItem.tsx    # 单项组件                                                                  │
│     │   └── Footer.tsx      # 底部组件                                                                  │
│     ├── types/                                                                                          │
│     │   └── todo.ts         # TypeScript 类型定义                                                       │
│     ├── hooks/                                                                                          │
│     │   └── useTodos.ts     # 待办逻辑自定义 Hook                                                       │
│     └── index.css           # 全局样式                                                                  │
│                                                                                                         │
│ 类型定义 (src/types/todo.ts)                                                                            │
│                                                                                                         │
│ export interface Todo {                                                                                 │
│   id: number;                                                                                           │
│   text: string;                                                                                         │
│   completed: boolean;                                                                                   │
│   createdAt: string;                                                                                    │
│ }                                                                                                       │
│                                                                                                         │
│ export type FilterType = 'all' | 'pending' | 'completed';                                               │
│                                                                                                         │
│ 核心 Hook (src/hooks/useTodos.ts)                                                                       │
│                                                                                                         │
│ 封装所有待办逻辑：                                                                                      │
│ - addTodo(text: string)                                                                                 │
│ - toggleTodo(id: number)                                                                                │
│ - deleteTodo(id: number)                                                                                │
│ - clearCompleted()                                                                                      │
│ - filteredTodos - 根据筛选条件返回                                                                      │
│ - 统计计算                                                                                              │
│                                                                                                         │
│ 组件设计                                                                                                │
│                                                                                                         │
│ 1. App.tsx - 主容器，状态管理                                                                           │
│ 2. Header - 显示标题、日期、统计                                                                        │
│ 3. TodoInput - 输入框和添加按钮                                                                         │
│ 4. FilterBar - 筛选按钮组                                                                               │
│ 5. TodoList - 列表容器                                                                                  │
│ 6. TodoItem - 单项渲染                                                                                  │
│ 7. Footer - 统计和清除按钮                                                                              │
│                                                                                                         │
│ 实施步骤                                                                                                │
│                                                                                                         │
│ 1. 使用 npm create vite@latest 初始化项目（或手动创建配置）                                             │
│ 2. 安装依赖：react, react-dom, typescript, @types/react, @types/react-dom                               │
│ 3. 创建 TypeScript 配置文件                                                                             │
│ 4. 创建类型定义文件                                                                                     │
│ 5. 创建 useTodos Hook                                                                                   │
│ 6. 创建各组件                                                                                           │
│ 7. 迁移 CSS 样式                                                                                        │
│ 8. 测试功能完整性                                                                                       │
│                                                                                                         │
│ 关键保留点                                                                                              │
│                                                                                                         │
│ - 所有现有功能完全保留                                                                                  │
│ - UI 设计保持一致                                                                                       │
│ - localStorage 持久化                                                                                   │
│ - 渐变紫色主题                                                                                          │
│ - 悬停动画效果                                                                                          │
│ - XSS 防护（React 默认转义）                                                                            │
│                                                                                                         │
│ 验证方法                                                                                                │
│                                                                                                         │
│ 1. 运行 npm install 安装依赖                                                                            │
│ 2. 运行 npm run dev 启动开发服务器                                                                      │
│ 3. 在浏览器中测试：                                                                                     │
│   - 添加待办（点击和 Enter 键）                                                                         │
│   - 标记完成/取消完成                                                                                   │
│   - 删除待办                                                                                            │
│   - 筛选功能切换                                                                                        │
│   - 清除已完成                                                                                          │
│   - 刷新页面验证数据持久化                                                                              │
│ 4. 运行 npm run build 验证构建无错误                                                                    │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────╯


